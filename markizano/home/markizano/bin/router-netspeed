#!/usr/bin/perl

use strict;
use warnings;
use Carp;
use Data::Dumper;

use XML::DOM;

use constant STATUS_URL => 'http://223.255.255.1/xslt?PAGE=C_1_0';

sub fetch_status {
	my $STATUS_URL = STATUS_URL;
	return `curl -so/dev/stdout '${STATUS_URL}'`;
}

my ( $parser, $status );

$parser = new XML::DOM::Parser;
$status = fetch_status;

die "No status.\n" if not $status;
$parser->parse( $status );

print Dumper({
	parser => $parser,
	status => $status,
});
