#!/bin/php
<?php

$arg = $_SERVER['argv'];
if( !isset($arg[1]) || strToLower($arg[1]) == '--help' || strToLower($arg[1]) == '-h' ){
?>
Usage: preg_match [RegEx] [Subject]
RegEx	- The regular expression that will be tested against [Subject]
Subject	- The test subject which will incur scrutiny against [RegEx]. If ommitted or null, read from stdin.
<?php
	return 0;
}
if(!isset($arg[2]) || empty($arg[2]) || $arg[2] == '-'){
	$arg[2] = null;
	$f = fOpen('php://stdin', 'rb');
	while(!fEOF($f))
		$arg[2] .= fGetc($f);
	fClose($f);
}
var_dump(preg_match($arg[1], $arg[2]));
return 1;
